{"ast":null,"code":"import _objectSpread from\"/home/amine/metaplex/js/packages/TE/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/home/amine/metaplex/js/packages/TE/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/amine/metaplex/js/packages/TE/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/home/amine/metaplex/js/packages/TE/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2;import _regeneratorRuntime from\"/home/amine/metaplex/js/packages/TE/node_modules/@babel/runtime/regenerator/index.js\";import{useEffect,useMemo,useState,useCallback}from'react';import styled from'styled-components';import{Container,Snackbar}from'@material-ui/core';import Paper from'@material-ui/core/Paper';import Alert from'@material-ui/lab/Alert';import{PublicKey}from'@solana/web3.js';import{useWallet}from'@solana/wallet-adapter-react';import{WalletDialogButton}from'@solana/wallet-adapter-material-ui';import{awaitTransactionSignatureConfirmation,CANDY_MACHINE_PROGRAM,getCandyMachineState,mintOneToken}from'./candy-machine';import{Header}from'./Header';import{MintButton}from'./MintButton';import{GatewayProvider}from'@civic/solana-gateway-react';import img from'./img.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ConnectButton=styled(WalletDialogButton)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 60px;\\n  margin-top: 10px;\\n  margin-bottom: 5px;\\n  background: linear-gradient(180deg, #604ae5 0%, #813eee 100%);\\n  color: white;\\n  font-size: 16px;\\n  font-weight: bold;\\n\"])));var MintContainer=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\"])));// add your owns styles here\nvar Home=function Home(props){var _candyMachine$state,_candyMachine$state$g;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isUserMinting=_useState2[0],setIsUserMinting=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),candyMachine=_useState4[0],setCandyMachine=_useState4[1];var _useState5=useState({open:false,message:'',severity:undefined}),_useState6=_slicedToArray(_useState5,2),alertState=_useState6[0],setAlertState=_useState6[1];var rpcUrl=props.rpcHost;var wallet=useWallet();var anchorWallet=useMemo(function(){if(!wallet||!wallet.publicKey||!wallet.signAllTransactions||!wallet.signTransaction){return;}return{publicKey:wallet.publicKey,signAllTransactions:wallet.signAllTransactions,signTransaction:wallet.signTransaction};},[wallet]);var refreshCandyMachineState=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var cndy;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(anchorWallet){_context.next=2;break;}return _context.abrupt(\"return\");case 2:if(!props.candyMachineId){_context.next=14;break;}_context.prev=3;_context.next=6;return getCandyMachineState(anchorWallet,props.candyMachineId,props.connection);case 6:cndy=_context.sent;setCandyMachine(cndy);_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](3);console.log('There was a problem fetching Candy Machine state');console.log(_context.t0);case 14:case\"end\":return _context.stop();}}},_callee,null,[[3,10]]);})),[anchorWallet,props.candyMachineId,props.connection]);var onMint=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _document$getElementB,mintTxId,status,message;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;setIsUserMinting(true);(_document$getElementB=document.getElementById('#identity'))===null||_document$getElementB===void 0?void 0:_document$getElementB.click();if(!(wallet.connected&&candyMachine!==null&&candyMachine!==void 0&&candyMachine.program&&wallet.publicKey)){_context2.next=13;break;}_context2.next=6;return mintOneToken(candyMachine,wallet.publicKey);case 6:mintTxId=_context2.sent[0];status={err:true};if(!mintTxId){_context2.next=12;break;}_context2.next=11;return awaitTransactionSignatureConfirmation(mintTxId,props.txTimeout,props.connection,true);case 11:status=_context2.sent;case 12:if(status&&!status.err){setAlertState({open:true,message:'Congratulations! Mint succeeded!',severity:'success'});}else{setAlertState({open:true,message:'Mint failed! Please try again!',severity:'error'});}case 13:_context2.next=20;break;case 15:_context2.prev=15;_context2.t0=_context2[\"catch\"](0);message=_context2.t0.msg||'Minting failed! Please try again!';if(!_context2.t0.msg){if(!_context2.t0.message){message='Transaction Timeout! Please try again.';}else if(_context2.t0.message.indexOf('0x137')){message=\"SOLD OUT!\";}else if(_context2.t0.message.indexOf('0x135')){message=\"Insufficient funds to mint. Please fund your wallet.\";}}else{if(_context2.t0.code===311){message=\"SOLD OUT!\";window.location.reload();}else if(_context2.t0.code===312){message=\"Minting period hasn't started yet.\";}}setAlertState({open:true,message:message,severity:'error'});case 20:_context2.prev=20;setIsUserMinting(false);return _context2.finish(20);case 23:case\"end\":return _context2.stop();}}},_callee2,null,[[0,15,20,23]]);}));return function onMint(){return _ref2.apply(this,arguments);};}();useEffect(function(){refreshCandyMachineState();},[anchorWallet,props.candyMachineId,props.connection,refreshCandyMachineState]);return/*#__PURE__*/_jsxs(Container,{style:{marginTop:100,marginBottom:100},children:[/*#__PURE__*/_jsx(Container,{maxWidth:\"xs\",style:{position:'relative'},children:/*#__PURE__*/_jsx(Paper,{style:{padding:24,backgroundColor:'#151A1F',borderRadius:6},children:!wallet.connected?/*#__PURE__*/_jsx(ConnectButton,{children:\"Connect Wallet\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Tetsuo Etudes\"}),/*#__PURE__*/_jsx(\"img\",{src:img,style:{width:'100%'},alt:\"\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Tetsuo Etudes (2022) - a study of Tetsuo Shima and his descent into total chaos. His defining moments recaptured by UK street-artist HATS. Mixed digital media. Winning bids will receive a physical spray painting from HATS.\"}),/*#__PURE__*/_jsx(Header,{candyMachine:candyMachine}),/*#__PURE__*/_jsx(MintContainer,{children:candyMachine!==null&&candyMachine!==void 0&&candyMachine.state.isActive&&candyMachine!==null&&candyMachine!==void 0&&candyMachine.state.gatekeeper&&wallet.publicKey&&wallet.signTransaction?/*#__PURE__*/_jsx(GatewayProvider,{wallet:{publicKey:wallet.publicKey||new PublicKey(CANDY_MACHINE_PROGRAM),//@ts-ignore\nsignTransaction:wallet.signTransaction},gatekeeperNetwork:candyMachine===null||candyMachine===void 0?void 0:(_candyMachine$state=candyMachine.state)===null||_candyMachine$state===void 0?void 0:(_candyMachine$state$g=_candyMachine$state.gatekeeper)===null||_candyMachine$state$g===void 0?void 0:_candyMachine$state$g.gatekeeperNetwork,clusterUrl:rpcUrl,options:{autoShowModal:false},children:/*#__PURE__*/_jsx(MintButton,{candyMachine:candyMachine,isMinting:isUserMinting,onMint:onMint})}):/*#__PURE__*/_jsx(MintButton,{candyMachine:candyMachine,isMinting:isUserMinting,onMint:onMint})})]})})}),/*#__PURE__*/_jsx(Snackbar,{open:alertState.open,autoHideDuration:6000,onClose:function onClose(){return setAlertState(_objectSpread(_objectSpread({},alertState),{},{open:false}));},children:/*#__PURE__*/_jsx(Alert,{onClose:function onClose(){return setAlertState(_objectSpread(_objectSpread({},alertState),{},{open:false}));},severity:alertState.severity,children:alertState.message})})]});};export default Home;","map":{"version":3,"sources":["/home/amine/metaplex/js/packages/TE/src/Home.tsx"],"names":["useEffect","useMemo","useState","useCallback","styled","Container","Snackbar","Paper","Alert","PublicKey","useWallet","WalletDialogButton","awaitTransactionSignatureConfirmation","CANDY_MACHINE_PROGRAM","getCandyMachineState","mintOneToken","Header","MintButton","GatewayProvider","img","ConnectButton","MintContainer","div","Home","props","isUserMinting","setIsUserMinting","candyMachine","setCandyMachine","open","message","severity","undefined","alertState","setAlertState","rpcUrl","rpcHost","wallet","anchorWallet","publicKey","signAllTransactions","signTransaction","refreshCandyMachineState","candyMachineId","connection","cndy","console","log","onMint","document","getElementById","click","connected","program","mintTxId","status","err","txTimeout","msg","indexOf","code","window","location","reload","marginTop","marginBottom","position","padding","backgroundColor","borderRadius","width","state","isActive","gatekeeper","gatekeeperNetwork","autoShowModal"],"mappings":"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","sourcesContent":["import { useEffect, useMemo, useState, useCallback } from 'react';\nimport * as anchor from '@project-serum/anchor';\n\nimport styled from 'styled-components';\nimport { Container, Snackbar } from '@material-ui/core';\nimport Paper from '@material-ui/core/Paper';\nimport Alert from '@material-ui/lab/Alert';\nimport { PublicKey } from '@solana/web3.js';\nimport { useWallet } from '@solana/wallet-adapter-react';\nimport { WalletDialogButton } from '@solana/wallet-adapter-material-ui';\nimport {\n  awaitTransactionSignatureConfirmation,\n  CandyMachineAccount,\n  CANDY_MACHINE_PROGRAM,\n  getCandyMachineState,\n  mintOneToken,\n} from './candy-machine';\nimport { AlertState } from './utils';\nimport { Header } from './Header';\nimport { MintButton } from './MintButton';\nimport { GatewayProvider } from '@civic/solana-gateway-react';\n\nimport img from './img.png';\n\nconst ConnectButton = styled(WalletDialogButton)`\n  width: 100%;\n  height: 60px;\n  margin-top: 10px;\n  margin-bottom: 5px;\n  background: linear-gradient(180deg, #604ae5 0%, #813eee 100%);\n  color: white;\n  font-size: 16px;\n  font-weight: bold;\n`;\n\nconst MintContainer = styled.div``; // add your owns styles here\n\nexport interface HomeProps {\n  candyMachineId?: anchor.web3.PublicKey;\n  connection: anchor.web3.Connection;\n  startDate: number;\n  txTimeout: number;\n  rpcHost: string;\n}\n\nconst Home = (props: HomeProps) => {\n  const [isUserMinting, setIsUserMinting] = useState(false);\n  const [candyMachine, setCandyMachine] = useState<CandyMachineAccount>();\n  const [alertState, setAlertState] = useState<AlertState>({\n    open: false,\n    message: '',\n    severity: undefined,\n  });\n\n  const rpcUrl = props.rpcHost;\n  const wallet = useWallet();\n\n  const anchorWallet = useMemo(() => {\n    if (\n      !wallet ||\n      !wallet.publicKey ||\n      !wallet.signAllTransactions ||\n      !wallet.signTransaction\n    ) {\n      return;\n    }\n\n    return {\n      publicKey: wallet.publicKey,\n      signAllTransactions: wallet.signAllTransactions,\n      signTransaction: wallet.signTransaction,\n    } as anchor.Wallet;\n  }, [wallet]);\n\n  const refreshCandyMachineState = useCallback(async () => {\n    if (!anchorWallet) {\n      return;\n    }\n\n    if (props.candyMachineId) {\n      try {\n        const cndy = await getCandyMachineState(\n          anchorWallet,\n          props.candyMachineId,\n          props.connection,\n        );\n        setCandyMachine(cndy);\n      } catch (e) {\n        console.log('There was a problem fetching Candy Machine state');\n        console.log(e);\n      }\n    }\n  }, [anchorWallet, props.candyMachineId, props.connection]);\n\n  const onMint = async () => {\n    try {\n      setIsUserMinting(true);\n      document.getElementById('#identity')?.click();\n      if (wallet.connected && candyMachine?.program && wallet.publicKey) {\n        const mintTxId = (\n          await mintOneToken(candyMachine, wallet.publicKey)\n        )[0];\n\n        let status: any = { err: true };\n        if (mintTxId) {\n          status = await awaitTransactionSignatureConfirmation(\n            mintTxId,\n            props.txTimeout,\n            props.connection,\n            true,\n          );\n        }\n\n        if (status && !status.err) {\n          setAlertState({\n            open: true,\n            message: 'Congratulations! Mint succeeded!',\n            severity: 'success',\n          });\n        } else {\n          setAlertState({\n            open: true,\n            message: 'Mint failed! Please try again!',\n            severity: 'error',\n          });\n        }\n      }\n    } catch (error: any) {\n      let message = error.msg || 'Minting failed! Please try again!';\n      if (!error.msg) {\n        if (!error.message) {\n          message = 'Transaction Timeout! Please try again.';\n        } else if (error.message.indexOf('0x137')) {\n          message = `SOLD OUT!`;\n        } else if (error.message.indexOf('0x135')) {\n          message = `Insufficient funds to mint. Please fund your wallet.`;\n        }\n      } else {\n        if (error.code === 311) {\n          message = `SOLD OUT!`;\n          window.location.reload();\n        } else if (error.code === 312) {\n          message = `Minting period hasn't started yet.`;\n        }\n      }\n\n      setAlertState({\n        open: true,\n        message,\n        severity: 'error',\n      });\n    } finally {\n      setIsUserMinting(false);\n    }\n  };\n\n  useEffect(() => {\n    refreshCandyMachineState();\n  }, [\n    anchorWallet,\n    props.candyMachineId,\n    props.connection,\n    refreshCandyMachineState,\n  ]);\n\n  return (\n    <Container style={{ marginTop: 100, marginBottom: 100 }}>\n      <Container maxWidth=\"xs\" style={{ position: 'relative' }}>\n        <Paper\n          style={{ padding: 24, backgroundColor: '#151A1F', borderRadius: 6 }}\n        >\n          {!wallet.connected ? (\n            <ConnectButton>Connect Wallet</ConnectButton>\n          ) : (\n            <>\n              <h1>Tetsuo Etudes</h1>\n              <img src={img} style={{width: '100%'}} alt=''/>\n              <p>Tetsuo Etudes (2022) - a study of Tetsuo Shima and his descent into total chaos. His defining moments recaptured by UK street-artist HATS. Mixed digital media. Winning bids will receive a physical spray painting from HATS.</p>\n              <Header candyMachine={candyMachine} />\n              <MintContainer>\n                {candyMachine?.state.isActive &&\n                candyMachine?.state.gatekeeper &&\n                wallet.publicKey &&\n                wallet.signTransaction ? (\n                  <GatewayProvider\n                    wallet={{\n                      publicKey:\n                        wallet.publicKey ||\n                        new PublicKey(CANDY_MACHINE_PROGRAM),\n                      //@ts-ignore\n                      signTransaction: wallet.signTransaction,\n                    }}\n                    gatekeeperNetwork={\n                      candyMachine?.state?.gatekeeper?.gatekeeperNetwork\n                    }\n                    clusterUrl={rpcUrl}\n                    options={{ autoShowModal: false }}\n                  >\n                    <MintButton\n                      candyMachine={candyMachine}\n                      isMinting={isUserMinting}\n                      onMint={onMint}\n                    />\n                  </GatewayProvider>\n                ) : (\n                  <MintButton\n                    candyMachine={candyMachine}\n                    isMinting={isUserMinting}\n                    onMint={onMint}\n                  />\n                )}\n              </MintContainer>\n            </>\n          )}\n        </Paper>\n      </Container>\n\n      <Snackbar\n        open={alertState.open}\n        autoHideDuration={6000}\n        onClose={() => setAlertState({ ...alertState, open: false })}\n      >\n        <Alert\n          onClose={() => setAlertState({ ...alertState, open: false })}\n          severity={alertState.severity}\n        >\n          {alertState.message}\n        </Alert>\n      </Snackbar>\n    </Container>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}